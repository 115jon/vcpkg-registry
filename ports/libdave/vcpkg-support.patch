diff --git a/cpp/CMakeLists.txt b/cpp/CMakeLists.txt
index 35b1194..93598c9 100644
--- a/cpp/CMakeLists.txt
+++ b/cpp/CMakeLists.txt
@@ -17,9 +17,9 @@ set(CMAKE_CXX_STANDARD 17)
 set(CMAKE_CXX_STANDARD_REQUIRED ON)
 
 if (CMAKE_CXX_COMPILER_ID MATCHES "Clang" OR CMAKE_CXX_COMPILER_ID MATCHES "GNU")
-  add_compile_options(-Wall -pedantic -Wextra -Werror)
+  add_compile_options(-Wall -pedantic -Wextra)
 elseif(MSVC)
-  add_compile_options(/W4 /WX)
+  add_compile_options(/W4)
   add_definitions(-DWINDOWS)
 
   # MSVC helpfully recommends safer equivalents for things like
@@ -64,7 +64,7 @@ else()
 endif()
 
 find_package(nlohmann_json REQUIRED)
-find_dependency(MLSPP REQUIRED)
+find_package(MLSPP REQUIRED)
 
 set(CMAKE_STATIC_LIBRARY_PREFIX "")
 
@@ -131,20 +131,76 @@ if (DEFINED EMSCRIPTEN)
   set_target_properties(${LIB_NAME} PROPERTIES COMPILE_FLAGS "${COMPILE_FLAGS}")
   set_target_properties(${LIB_NAME} PROPERTIES LINK_FLAGS    "${LINK_FLAGS}")
 else()
-  add_library(${LIB_NAME} ${LIB_HEADERS} ${LIB_SOURCES})
+  if (WIN32)
+    add_library(${LIB_NAME} STATIC ${LIB_HEADERS} ${LIB_SOURCES})
+  else()
+    add_library(${LIB_NAME} ${LIB_HEADERS} ${LIB_SOURCES})
+  endif()
 endif()
 
 target_include_directories(
   ${LIB_NAME}
   PUBLIC
     $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/src>
-    $<INSTALL_INTERFACE:include/${PROJECT_NAME}>
+    $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
     ${OPENSSL_INCLUDE_DIR}
 )
 
 target_link_libraries(${LIB_NAME} PUBLIC OpenSSL::Crypto)
 target_link_libraries(${LIB_NAME} PUBLIC MLSPP::mlspp)
+target_link_libraries(${LIB_NAME} PUBLIC nlohmann_json::nlohmann_json)
 
 if (TESTING)
   add_subdirectory(test)
 endif()
+
+# Configure exports
+include(GNUInstallDirs)
+include(CMakePackageConfigHelpers)
+
+# Install the library
+install(
+  TARGETS ${LIB_NAME}
+  EXPORT libdave-targets
+  ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
+  LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+  RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
+  INCLUDES DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}
+)
+
+# Install headers
+install(
+  DIRECTORY ${PROJECT_SOURCE_DIR}/src/dave
+  DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}
+  FILES_MATCHING PATTERN "*.h"
+)
+
+# Export targets
+install(
+  EXPORT libdave-targets
+  FILE libdave-targets.cmake
+  NAMESPACE libdave::
+  DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/libdave
+)
+
+# Create config file
+configure_package_config_file(
+  ${CMAKE_CURRENT_SOURCE_DIR}/cmake/libdave-config.cmake.in
+  ${CMAKE_CURRENT_BINARY_DIR}/libdave-config.cmake
+  INSTALL_DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/libdave
+)
+
+# Create version file
+write_basic_package_version_file(
+  ${CMAKE_CURRENT_BINARY_DIR}/libdave-config-version.cmake
+  VERSION ${PROJECT_VERSION}
+  COMPATIBILITY SameMajorVersion
+)
+
+# Install config files
+install(
+  FILES
+    ${CMAKE_CURRENT_BINARY_DIR}/libdave-config.cmake
+    ${CMAKE_CURRENT_BINARY_DIR}/libdave-config-version.cmake
+  DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/libdave
+)
\ No newline at end of file
diff --git a/cpp/cmake/libdave-config.cmake.in b/cpp/cmake/libdave-config.cmake.in
new file mode 100644
index 0000000..5b5928a
--- /dev/null
+++ b/cpp/cmake/libdave-config.cmake.in
@@ -0,0 +1,11 @@
+@PACKAGE_INIT@
+
+include(CMakeFindDependencyMacro)
+
+find_dependency(OpenSSL REQUIRED)
+find_dependency(nlohmann_json REQUIRED)
+find_dependency(MLSPP REQUIRED)
+
+include("${CMAKE_CURRENT_LIST_DIR}/libdave-targets.cmake")
+
+check_required_components(libdave)
\ No newline at end of file
diff --git a/cpp/src/dave/mls/session.cpp b/cpp/src/dave/mls/session.cpp
index bce7a06..a226670 100644
--- a/cpp/src/dave/mls/session.cpp
+++ b/cpp/src/dave/mls/session.cpp
@@ -510,6 +510,7 @@ RosterMap Session::ReplaceState(std::unique_ptr<::mlspp::State>&& state)
 
     roster_ = std::move(newRoster);
     currentState_ = std::move(state);
+    groupId_ = currentState_->group_id();
 
     return changeMap;
 }
@@ -796,6 +797,43 @@ catch (const std::exception& e) {
     callback({});
 }
 
+bool Session::ActivatePendingGroup() noexcept {
+  try {
+    // If we already have an established group, nothing to do.
+    if (currentState_) {
+      return true;
+    }
+
+    // Nothing to activate.
+    if (!pendingGroupState_) {
+      DISCORD_LOG(LS_ERROR) << "No pending MLS group to activate";
+      return false;
+    }
+
+    DISCORD_LOG(LS_INFO) << "Activating pending MLS group (sole-member reset / init transition)";
+
+    // Promote pending -> current, and build roster.
+    // ReplaceState takes ownership of the state and assigns currentState.
+    (void)ReplaceState(std::move(pendingGroupState_));
+
+    // We now have currentState; drop any leftover “pending/join” crypto and proposal caches.
+    outboundCachedGroupState_.reset();
+    stateWithProposals_.reset();
+    proposalQueue_.clear();
+    pendingGroupCommit_.reset();
+
+    // Clears pending group pointers and join/keypackage material.
+    // Note: ClearPendingState does NOT clear currentState. [file:2]
+    ClearPendingState();
+
+    return true;
+  } catch (const std::exception& e) {
+    DISCORD_LOG(LS_ERROR) << "Failed to activate pending MLS group: {}" << e.what();
+    TRACK_MLS_ERROR(e.what());
+    return false;
+  }
+}
+
 void Session::ClearPendingState()
 {
     pendingGroupState_.reset();
diff --git a/cpp/src/dave/mls/session.h b/cpp/src/dave/mls/session.h
index f841b7a..da00dd8 100644
--- a/cpp/src/dave/mls/session.h
+++ b/cpp/src/dave/mls/session.h
@@ -73,6 +73,7 @@ public:
                                 std::string const& userId,
                                 PairwiseFingerprintCallback callback) const noexcept;
 
+    bool ActivatePendingGroup() noexcept;
 private:
     void InitLeafNode(std::string const& selfUserId,
                       std::shared_ptr<::mlspp::SignaturePrivateKey>& transientKey) noexcept;

